<!DOCTYPE html>
<html lang="cn">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <meta name="description"
        content="EFB在线飞行包 - 为模拟飞行训练提供了飞行保障。包括:航路查询,燃油查询,气象查询,机场查询,在线地图等功能,EFB在线飞行包仅可模拟飞行训练使用，禁止用于实际飞行。XFlySim全球连线飞行平台-XFS连飞-XFS联飞">
    <meta name="keywords" content="EFB在线飞行包,联飞,连飞,连线飞行,在线飞行,XFlysim">
    <meta name="author" content="FlySim">
    <title>
        XFlySim全球航班飞行地图 - 全球航路查询系统 - EFB在线飞行包 - XFLYSIM.cn
    </title>
    <base href="">
    <!-- load Google fonts -->
    <link href="../assets/css/icon.css" rel="stylesheet">
    <link rel="icon" type="image/png" sizes="32x32" href="favicon.ico">
    <!-- Crypto Styles -->
    <link id="crypto-stylesheet" rel="stylesheet" href="../assets/css/night-gold-orange.css">
    <link href="./css/loading.css" rel="stylesheet">
    <link href="./css/mapbox-gl.css" rel="stylesheet">
    <!-- <link rel="stylesheet" href="./css/footer.css"> -->
    <link href="./css/bootstrap.min.css" rel="stylesheet">
    <script src="./js/mapbox-gl.js"></script>
    <script src='./js/turf.min.js'></script>
    <script src="./js/three.min.js"></script>
    <script src="./js/GLTFLoader.js"></script>
    <script src="./js/threebox.min.js" type="text/javascript"></script>
    <link href="./css/threebox.css" rel="stylesheet">
    <link href="./css/utctime.css" rel="stylesheet">
    <link rel="stylesheet" href="./fontawesome-free-5.15.4-web/css/all.min.css" />
    <style>
        ::-webkit-scrollbar {
            display: none;
        }
    </style>
    <style>
        body {
            margin: 0;
            padding: 0;
        }

        #map {
            position: relative;
            top: 0;
            bottom: 0;
            width: 100%;
            height: calc(100% - 55px);
        }
    </style>
    <style>
        .rounded-rect {
            background: white;
            border-radius: 10px;
            /* box-shadow: 0 0 50px -25px black; */
        }

        .flex-center {
            position: absolute;
            /* display: flex; */
            justify-content: center;
            /* align-items: center; */
        }

        .flex-center.left {
            left: 0px;
        }

        .flex-center.right {
            right: 0px;
        }

        .sidebar-content {
            position: absolute;
            width: 95%;
            height: 95%;
            font-family: Arial, Helvetica, sans-serif;
            font-size: 32px;
            color: gray;
        }

        .sidebar-toggle {
            position: absolute;
            width: 1.3em;
            height: 1.3em;
            overflow: visible;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        .sidebar-toggle.left {
            left: -1.5em;
        }

        .sidebar-toggle.right {
            right: -1.5em;
        }

        .sidebar-toggle:hover {
            color: #0aa1cf;
            cursor: pointer;
        }

        .sidebar {
            transition: transform 1s;
            z-index: 1;
            /* width: 500px; */
            height: 100%;
        }

        .left.collapsed {
            transform: translateX(-1000px);
        }

        .right.collapsed {
            transform: translateX(1000px);
        }

        .mapboxgl-popup-content {
            /* display: none; */
            background: rgba(0, 0, 0, 0);
            /* border-radius: 5px; */
            margin-left: 15px;
            width: 150px;
            color: #FFCE61;
            box-shadow: 0 1px 2px rgba(0, 0, 0, 0);
        }

        .mapboxgl-popup-tip {
            display: none;
        }


        table th,
        td {
            width: 80px;
        }

        a {
            text-decoration: none;
        }

        .btn-light {
            --bs-btn-color: #000;
            --bs-btn-bg: #c6c7c8;
            --bs-btn-border-color: #babbbc;
            --bs-btn-hover-color: #000;
            --bs-btn-hover-bg: #d3d4d5;
            --bs-btn-hover-border-color: #c6c7c8;
            --bs-btn-focus-shadow-rgb: 211, 212, 213;
            --bs-btn-active-color: #000;
            --bs-btn-active-bg: #f8f9fa;
            --bs-btn-active-border-color: #f8f9fa;
            --bs-btn-active-shadow: inset 0 3px 5px rgba(0, 0, 0, 0.125);
            --bs-btn-disabled-color: #000;
            --bs-btn-disabled-bg: #f8f9fa;
            --bs-btn-disabled-border-color: #f8f9fa;
        }
    </style>
</head>

<body
    class="page- mdc-typography  mdc-theme--background crypro-theme-gradient">
    <div class="crypto-wrapper">
        <div id="celan" style="z-index: 999;">
            <nav class="crypto-navigation">
                <a href="http://efb.xflysim.cn/index.html" class="crypto-navigation__logo">
                    <img width="80" src="../img/logo.png" alt="Crypto" class="crypto-navigation__logo-image">
                    <div style="color: #ccc;margin-top: 5px;font-family:'幼园';text-decoration: none !important;">EFB
                        在线飞行包<span class="ml-1 badge badge-secondary">V3.0</span></div>
                </a>
                <ul class="crypto-navigation__list" id="celan_tubiao">
                    <li class="crypto-navigation__list-item mdc-ripple-surface ">
                        <a href="../index.php">
                            <i class="material-icons crypto-navigation__list-item__icon" aria-hidden="true">timeline</i>
                            <!-- <span class="crypto-navigation__list-item__badge"></span> -->
                            <span
                                class="crypto-navigation__list-item__label mdc-theme--on-surface mdc-typography--overline">
                                航路查询
                            </span>
                        </a>
                    </li>
                    <li class="crypto-navigation__list-item mdc-ripple-surface ">
                        <a href="../fuel.html">
                            <i class="material-icons crypto-navigation__list-item__icon" aria-hidden="true">opacity</i>
                            <!-- <span class="crypto-navigation__list-item__badge"></span> -->
                            <span
                                class="crypto-navigation__list-item__label mdc-theme--on-surface mdc-typography--overline">
                                燃油查询
                            </span>
                        </a>
                    </li>
                    <li class="crypto-navigation__list-item mdc-ripple-surface">
                        <a href="../atis.php">
                            <i class="material-icons crypto-navigation__list-item__icon"
                                aria-hidden="true">surround_sound</i>
                            <!-- <span class="crypto-navigation__list-item__badge"></span> -->
                            <span
                                class="crypto-navigation__list-item__label mdc-theme--on-surface mdc-typography--overline">
                                ATIS通播
                            </span>
                        </a>
                    </li>
                    <li class="crypto-navigation__list-item mdc-ripple-surface ">
                        <a href="../weather.html">
                            <i class="material-icons crypto-navigation__list-item__icon"
                                aria-hidden="true">cloud_queue</i>
                            <!-- <span class="crypto-navigation__list-item__badge">2</span> -->
                            <span
                                class="crypto-navigation__list-item__label mdc-theme--on-surface mdc-typography--overline">
                                气象查询
                            </span>
                        </a>
                    </li>
                    <li class="crypto-navigation__list-item mdc-ripple-surface ">
                        <a href="../chart.php">
                            <i class="material-icons crypto-navigation__list-item__icon" aria-hidden="true">public</i>
                            <span
                                class="crypto-navigation__list-item__label mdc-theme--on-surface mdc-typography--overline">
                                航图查询
                            </span>
                        </a>
                    </li>
                    <li class="crypto-navigation__list-item mdc-ripple-surface ">
                        <a href="../airport.html">
                            <i class="material-icons crypto-navigation__list-item__icon"
                                aria-hidden="true">airplanemode_active</i>
                            <span
                                class="crypto-navigation__list-item__label mdc-theme--on-surface mdc-typography--overline">
                                机场信息
                            </span>
                        </a>
                    </li>
                    <li class="crypto-navigation__list-item mdc-ripple-surface crypto-navigation__list-item--active">
                        <a href="#">
                            <i class="material-icons crypto-navigation__list-item__icon"
                                aria-hidden="true">track_changes</i>
                            <span
                                class="crypto-navigation__list-item__label mdc-theme--on-surface mdc-typography--overline">
                                在线地图
                            </span>
                        </a>
                    </li>
                    <li class="crypto-navigation__list-item mdc-ripple-surface ">
                        <a href="../book.php">
                            <i class="material-icons crypto-navigation__list-item__icon" aria-hidden="true">book</i>
                            <span
                                class="crypto-navigation__list-item__label mdc-theme--on-surface mdc-typography--overline">
                                航空手册
                            </span>
                        </a>
                    </li>
                </ul>
            </nav>
        </div>





        <div class="loader-wrapper">
            <div class="loader"><img src="./img/logo.png" alt="" class=""></div>
            <div class="loader-text">
                <div>L</div>
                <div>O</div>
                <div>A</div>
                <div>D</div>
                <div>I</div>
                <div>N</div>
                <div>G</div>
                <div>.</div>
                <div>.</div>
                <div>.</div>
            </div>
        </div>

        <div id="app" style="width: 100%;height: 100%;">
            <div id="navbar"
                style="z-index: 3; top: 0;position: relative; width: 100%;background: #424951;box-shadow: 0 0 15px rgba(255,255,255,0.2);padding-top: 10px;padding-bottom: 10px;">
                <div class="col align-self-start" id="clock" style="height: 35px; margin-left: 10px;user-select: none;">
                    <div style="float: right; margin-right: 15px;">
                        <!-- <span style="vertical-align: top; color:#FFCE61;">UTC</span> -->
                        <div id="h10" class="num">
                            <div class="upper"></div>
                            <div class="base upper"></div>
                            <div class="base lower"></div>
                            <div class="lower"></div>
                        </div>

                        <div id="h0" class="num">
                            <div class="upper"></div>
                            <div class="base upper"></div>
                            <div class="base lower"></div>
                            <div class="lower"></div>
                        </div>

                        <div class="colon">:</div>

                        <div id="m10" class="num">
                            <div class="upper"></div>
                            <div class="base upper"></div>
                            <div class="base lower"></div>
                            <div class="lower"></div>
                        </div>

                        <div id="m0" class="num">
                            <div class="upper"></div>
                            <div class="base upper"></div>
                            <div class="base lower"></div>
                            <div class="lower"></div>
                        </div>

                        <div class="colon">:</div>

                        <div id="s10" class="num">
                            <div class="upper"></div>
                            <div class="base upper"></div>
                            <div class="base lower"></div>
                            <div class="lower"></div>
                        </div>

                        <div id="s0" class="num">
                            <div class="upper"></div>
                            <div class="base upper"></div>
                            <div class="base lower"></div>
                            <div class="lower"></div>
                        </div>
                    </div>
                </div>

            </div>

            <div id="map" class="container-fluid">
                <div id="functionBar" class="btn-group-vertical" role="group"
                    aria-label="Basic checkbox toggle button group"
                    style="position: absolute; z-index: 4; margin-top: 15px; margin-right: 10px;">
                    <div id="bottomBar" style="float: left; margin-bottom: 15px;line-height: 45px;">
                        <input type="checkbox" class="btn-check" id="vaFlightOnlineBtn" autocomplete="off"
                            style="margin-left: 10px;">
                        <label title="va在线" class="btn btn-light" for="vaFlightOnlineBtn" data-bs-toggle="collapse"
                            data-bs-target="#vaFlightOnlinePanel" aria-expanded="false"
                            aria-controls="vaFlightOnlinePanel"><i class="fa fa-suitcase"></i><span
                                class="badge text-bg-secondary"
                                style="margin-left: 10px;">{{vaFlightNum}}</span></label>

                        <input type="checkbox" class="btn-check" id="flightOnlineBtn" autocomplete="off" title="在线人数">
                        <label title="平台在线" class="btn btn-light" for="flightOnlineBtn" data-bs-toggle="collapse"
                            data-bs-target="#flightOnlinePanel" aria-expanded="false"
                            aria-controls="flightOnlinePanel"><i class="fa fa-plane-departure"></i><span
                                class="badge text-bg-secondary" style="margin-left: 10px;">{{flightNum}}</span></label>

                        <input type="checkbox" class="btn-check" id="atcOnlineBtn" autocomplete="off">
                        <label title="管制在线" class="btn btn-light" for="atcOnlineBtn" data-bs-toggle="collapse"
                            data-bs-target="#atcOnlinePanel" aria-expanded="false" aria-controls="atcOnlinePanel"><i
                                class="fa fa-headphones"></i><span class="badge text-bg-secondary"
                                style="margin-left: 10px;">{{atcNum}}</span></label>

                        <input type="checkbox" class="btn-check" id="atisOnlineBtn" autocomplete="off">
                        <label title="ATIS在线" class="btn btn-light" for="atisOnlineBtn" data-bs-toggle="collapse"
                            data-bs-target="#atisOnlinePanel" aria-expanded="false" aria-controls="atisOnlinePanel"><i
                                class="fa fa-broadcast-tower"></i><span class="badge text-bg-secondary"
                                style="margin-left: 10px;">{{atisNum}}</span></label>

                        <input type="checkbox" class="btn-check" id="activityBtn" autocomplete="off">
                        <label title="平台活动" class="btn btn-light" for="activityBtn" data-bs-toggle="collapse"
                            data-bs-target="#activityPanel" aria-expanded="false" aria-controls="activityPanel"><i
                                class="fa fa-calendar-alt"></i><span class="badge text-bg-secondary"
                                style="margin-left: 10px;">{{recentActivity.date}}</span></label>

                        <input type="checkbox" class="btn-check" id="settingBtn" autocomplete="off" disabled>
                        <label title="航路查询" class="btn btn-light" for="settingBtn" data-bs-toggle="collapse"
                            data-bs-target="#settingPanel" aria-expanded="false" aria-controls="settingPanel"><i
                                class="fa fa-route"></i></label>

                        <input type="checkbox" class="btn-check" id="settingBtn" autocomplete="off" disabled>
                        <label title="气象查询" class="btn btn-light" for="settingBtn" data-bs-toggle="collapse"
                            data-bs-target="#settingPanel" aria-expanded="false" aria-controls="settingPanel"><i
                                class="fa fa-cloud"></i></label>

                        <input type="checkbox" class="btn-check" id="settingBtn" autocomplete="off" disabled>
                        <label title="航图查询" class="btn btn-light" for="settingBtn" data-bs-toggle="collapse"
                            data-bs-target="#settingPanel" aria-expanded="false" aria-controls="settingPanel"><i
                                class="fa fa-globe-asia"></i></label>

                        <input type="checkbox" class="btn-check" id="settingBtn" autocomplete="off">
                        <label title="地图设置" class="btn btn-light" for="settingBtn" data-bs-toggle="collapse"
                            data-bs-target="#settingPanel" aria-expanded="false" aria-controls="settingPanel"><i
                                class="fa fa-cog"></i></label>
                    </div>
                    <div id="functionArea"
                        style="float: left; overflow-y: auto; max-height: calc(100vh - 120px); max-width: 100vw; min-width: 300px;">
                        <div class="collapse collapse-horizontal" id="vaFlightOnlinePanel"
                            style="margin-bottom: 15px; height: auto;">
                            <div class="card card-body">
                                <h5 style="text-align: center;">签派任务航班</h5>
                                <table class="table table-md table-striped table-hover" style="text-align: center;">
                                    <thead>
                                        <tr>
                                            <th scope="col">#</th>
                                            <th scope="col">航班号</th>
                                            <th scope="col">注册号</th>
                                            <th scope="col">离港机场</th>
                                            <th scope="col">进港机场</th>
                                            <th scope="col">状态</th>
                                            <!-- <th scope="col">剩余燃油</th> -->
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr v-for="item in vaOnlineInfo" @click="flyToFly(item)">
                                            <th><img :src="item.properties.airlineimg" style="width: 20px;"></th>
                                            <td><template>{{item.properties.callsign}}</template></td>
                                            <td><template>{{item.properties.cid}}</template></td>
                                            <td><template>{{item.properties.departure}}</template></td>
                                            <td><template>{{item.properties.arrival}}</template></td>
                                            <td v-if="item.properties.remark=='登机中'">
                                                <span class="badge text-bg-warning">{{item.properties.remark}}</span>
                                            </td>
                                            <td v-if="item.properties.remark=='离港滑行中'">
                                                <span class="badge text-bg-primary">{{item.properties.remark}}</span>
                                            </td>
                                            <td v-if="item.properties.remark=='起飞阶段'">
                                                <span class="badge text-bg-success">{{item.properties.remark}}</span>
                                            </td>
                                            <td v-if="item.properties.remark=='爬升阶段'">
                                                <span class="badge text-bg-success">{{item.properties.remark}}</span>
                                            </td>
                                            <td v-if="item.properties.remark=='巡航阶段'">
                                                <span class="badge text-bg-success">{{item.properties.remark}}</span>
                                            </td>
                                            <td v-if="item.properties.remark=='下降阶段'">
                                                <span class="badge text-bg-success">{{item.properties.remark}}</span>
                                            </td>
                                            <td v-if="item.properties.remark=='进近阶段'">
                                                <span class="badge text-bg-success">{{item.properties.remark}}</span>
                                            </td>
                                            <td v-if="item.properties.remark=='进港滑行阶段'">
                                                <span class="badge text-bg-primary">{{item.properties.remark}}</span>
                                            </td>
                                            <td v-if="item.properties.remark=='关车完成飞航任务'">
                                                <span class="badge text-bg-warning">{{item.properties.remark}}</span>
                                            </td>
                                            <td v-if="item.properties.remark=='复飞阶段'">
                                                <span class="badge text-bg-light">{{item.properties.remark}}</span>
                                            </td>
                                            <td v-if="item.properties.remark=='着陆阶段'">
                                                <span class="badge text-bg-success">{{item.properties.remark}}</span>
                                            </td>
                                            <td v-if="item.properties.remark=='延误'">
                                                <span class="badge text-bg-danger">{{item.properties.remark}}</span>
                                            </td>
                                            <!-- <td><template>{{item.properties.hrsfuel}}kg</template></td> -->
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                        <div class="collapse collapse-horizontal" id="flightOnlinePanel"
                            style="margin-bottom: 15px; height: auto;">
                            <div class="card card-body">
                                <h5 style="text-align: center;">连线飞行航班</h5>
                                <table class="table table-md table-striped table-hover" style="text-align: center;">
                                    <thead>
                                        <tr>
                                            <th scope="col">#</th>
                                            <th scope="col">航班号</th>
                                            <th scope="col">注册号</th>
                                            <th scope="col">状态</th>
                                            <th scope="col">在线时间</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr v-for="item in onlineInfo" @click="flyToFly(item)">
                                            <th><img :src="item.properties.airlineimg" style="width: 20px;"></th>
                                            <td><template>{{item.properties.callsign}}</template></td>
                                            <td><template>{{item.properties.cid}}</template></td>
                                            <td v-if="item.properties.status==1">
                                                <span class="badge text-bg-warning">登机中</span>
                                            </td>
                                            <td v-if="item.properties.status==2">
                                                <span class="badge text-bg-primary">滑行中</span>
                                            </td>
                                            <td v-if="item.properties.status==3">
                                                <span class="badge text-bg-success">巡航阶段</span>
                                            </td>
                                            <td><template>{{item.properties.onlinetime}}</template></td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>

                        <div class="collapse collapse-horizontal" id="atcOnlinePanel"
                            style="margin-bottom: 15px; height: auto;">
                            <div class="card card-body">
                                <h5 style="text-align: center;">连线飞行管制</h5>
                                <table class="table table-md table-striped table-hover" style="text-align: center;">
                                    <thead>
                                        <tr>
                                            <th scope="col">管制区</th>
                                            <th scope="col">席位</th>
                                            <th scope="col">管制员</th>
                                            <th scope="col">联系频率</th>
                                            <th scope="col">在线时间</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr v-for="item in atcInfo" @click="toAtc(item)">
                                            <th><template>{{item.properties.callsign}}</template></th>

                                            <td v-if="item.properties.facilitytype=='0'">
                                                <span class="badge text-bg-light">OBS</span>
                                            </td>
                                            <td v-if="item.properties.facilitytype=='1'">
                                                <span class="badge text-bg-danger">FSS</span>
                                            </td>
                                            <td v-if="item.properties.facilitytype=='2'">
                                                <span class="badge text-bg-primary">DEL</span>
                                            </td>
                                            <td v-if="item.properties.facilitytype=='3'">
                                                <span class="badge text-bg-secondary">GND</span>
                                            </td>
                                            <td v-if="item.properties.facilitytype=='4'">
                                                <span class="badge text-bg-success">TWR</span>
                                            </td>
                                            <td v-if="item.properties.facilitytype=='5'">
                                                <span class="badge text-bg-info">APP</span>
                                            </td>
                                            <td v-if="item.properties.facilitytype=='6'">
                                                <span class="badge text-bg-warning">CTR</span>
                                            </td>
                                            <td v-if="item.properties.facilitytype=='7'">
                                                <span class="badge text-bg-dark">SIM</span>
                                            </td>
                                            <td><template>{{item.properties.cid}}</template></td>
                                            <td><template>{{item.properties.frequency}}</template></td>

                                            <td><template>{{item.properties.onlinetime}}</template></td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>

                        <div class="collapse collapse-horizontal" id="atisOnlinePanel"
                            style="margin-bottom: 15px; height: auto;">
                            <div class="card card-body">
                                <h5 style="text-align: center;">情报通播</h5>
                                <table class="table table-md table-striped table-hover" style="text-align: center;">
                                    <thead>
                                        <tr>
                                            <th scope="col">管制区</th>
                                            <th scope="col">有效通播</th>
                                            <th scope="col">管制员</th>
                                            <th scope="col">联系频率</th>
                                            <th scope="col">在线时间</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr v-for="item in atisInfo" @click="toAtc(item)">
                                            <th><template>{{item.properties.callsign}}</template></th>
                                            <td><template>{{item.properties.code}}</template></td>
                                            <td v-if="item.properties.cid=='机器人'">
                                                <span class="badge text-bg-warning">御坂</span>
                                            </td>
                                            <td v-else>
                                                <span
                                                    class="badge text-bg-success"><template>{{item.properties.cid}}</template></span>
                                            </td>
                                            <td><template>{{item.properties.frequency}}</template></td>

                                            <td><template>{{item.properties.onlinetime}}</template></td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>

                        <div class="collapse collapse-horizontal" id="activityPanel"
                            style="margin-bottom: 15px; height: auto;">
                            <div class="card card-body">
                                <h5 style="text-align: center;">近期连飞活动</h5>
                                <div v-for="item in activityData" @click="getActivity()" class="card"
                                    style="margin-top: 20px;box-shadow: rgba(0, 0, 0, 0.07) 0px 1px 1px, rgba(0, 0, 0, 0.07) 0px 2px 2px, rgba(0, 0, 0, 0.07) 0px 4px 4px, rgba(0, 0, 0, 0.07) 0px 8px 8px, rgba(0, 0, 0, 0.07) 0px 16px 16px;">
                                    <h6 v-if="item.status=='未开始'" class="card-header"
                                        style="color: white;background:rgb(66,73,81)	;">
                                        {{item.name}} <span class="badge text-bg-warning"
                                            style="float: right;">{{item.status}}</span><span
                                            class="badge text-bg-secondary"
                                            style="float: right;margin-right: 5px;">{{item.date}}</span></h6>
                                    <h6 v-if="item.status=='进行中'" class="card-header">
                                        {{item.name}} <span class="badge text-bg-primary"
                                            style="float: right;">{{item.status}}</span><span
                                            class="badge text-bg-secondary"
                                            style="float: right;margin-right: 5px;">{{item.date}}</span></h6>
                                    <h6 v-if="item.status=='已结束'" class="card-header">
                                        {{item.name}} <span class="badge text-bg-danger"
                                            style="float: right;">{{item.status}}</span><span
                                            class="badge text-bg-secondary"
                                            style="float: right;margin-right: 5px;">{{item.date}}</span></h6>
                                    <div class="card-body">
                                        <h6 class="card-title"><span
                                                class="badge text-bg-success">{{item.dep_airport}}</span> ✈ <span
                                                class="badge text-bg-success">{{item.arr_airport}}</span> <span
                                                class="badge text-bg-info">{{item.airport_level}}</span> <span
                                                class="badge text-bg-info">{{item.distance}}nm</span></h6>
                                        <p class="card-text" style="max-width: 500px; margin-top: 20px;">
                                            <b>航路（{{item.rule}}）：{{item.route}}</b><br><br><b
                                                style="color: red;">{{item.remark}}</b>
                                        </p>
                                        <div v-if="item.status=='未开始'">
                                            <a target="_blank" href="https://www.xflysim.com/main.php?page=signup"
                                                style="float: right;">
                                                <button class="btn btn-lg"
                                                    href="https://www.xflysim.com/main.php?page=signup"
                                                    style="color: white;background: #f40; border-color: #f40;  font-size: 1.3em; padding-left: 10px; padding-right: 10px; padding-top: 5px; padding-bottom: 5px;">报名</button>
                                            </a>
                                            <a type="button" target="_blank" :href="item.url">
                                                <button class="btn btn-lg" :href="item.url"
                                                    style="color: white;background: #f80; border-color: #f80; font-size: 1.3em; padding-left: 10px; padding-right: 10px; padding-top: 5px; padding-bottom: 5px;">查看详情</button>
                                            </a>
                                        </div>
                                        <div v-if="item.status=='已结束' || item.status=='进行中'">
                                            <a type="button" target="_blank" :href="item.url">
                                                <button class="btn btn-lg" :href="item.url"
                                                    style="color: white;background: #f80; border-color: #f80; font-size: 1.3em; padding-left: 10px; padding-right: 10px; padding-top: 5px; padding-bottom: 5px;">查看详情</button>
                                            </a>
                                        </div>
                                        <!-- <a v-if="item.status=='未开始'" target="_blank">
                                        <button class="btn btn-lg" href="https://www.xflysim.com/main.php?page=signup"
                                            style="float: right;color: white;background: #f40; border-color: #f40;  font-size: 1.3em; padding-left: 10px; padding-right: 10px; padding-top: 5px; padding-bottom: 5px;">报名</button>
                                        <button class="btn btn-lg" :href="item.url"
                                            style="color: white;background: #f80; border-color: #f80; font-size: 1.3em; padding-left: 10px; padding-right: 10px; padding-top: 5px; padding-bottom: 5px;">查看详情</button>
                                    </a>
                                    <a v-if="item.status=='已结束' || item.status=='进行中' " target="_blank"
                                        :href="item.url">
                                        <button class="btn btn-lg"
                                            style="color: white;background: #f80; border-color: #f80; font-size: 1.3em; padding-left: 10px; padding-right: 10px; padding-top: 5px; padding-bottom: 5px;">查看详情</button>
                                    </a> -->
                                        <!-- <a target="_blank" href="https://www.xflysim.com/main.php?page=signup"
                                        style="float: right;">
                                        <button class="btn-lg"
                                            style="color: white;background: #f80; border-color: #f80; font-size: 1.3em; padding-left: 10px; padding-right: 10px; padding-top: 5px; padding-bottom: 5px;">查看详情</button>
                                    </a> -->
                                        <!-- <a class="btn btn-dark btn-sm" type="button" target="_blank"
                                        :href="item.url">查看详情</a> -->
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="collapse collapse-horizontal" id="settingPanel"
                            style="margin-bottom: 15px; height: auto;">
                            <div class="card card-body" style="font-size: 15px;">
                                <h5 style="text-align: center;">地图设置</h5>
                                <div class="form-check form-switch form-switch-lg">
                                    <input class="form-check-input" type="checkbox" role="switch"
                                        id="flexSwitchCheckDefault">
                                    <label class="form-check-label" for="flexSwitchCheckDefault">Default switch checkbox
                                        input</label>
                                </div>
                                <div class="form-check form-switch form-switch-lg">
                                    <input class="form-check-input" type="checkbox" role="switch"
                                        id="flexSwitchCheckChecked" checked>
                                    <label class="form-check-label" for="flexSwitchCheckChecked">Checked switch checkbox
                                        input</label>
                                </div>
                                <div class="form-check form-switch form-switch-lg">
                                    <input class="form-check-input" type="checkbox" role="switch"
                                        id="flexSwitchCheckDisabled" disabled>
                                    <label class="form-check-label" for="flexSwitchCheckDisabled">Disabled switch
                                        checkbox
                                        input</label>
                                </div>
                                <div class="form-check form-switch form-switch-lg">
                                    <input class="form-check-input" type="checkbox" role="switch"
                                        id="flexSwitchCheckCheckedDisabled" checked disabled>
                                    <label class="form-check-label" for="flexSwitchCheckCheckedDisabled">Disabled
                                        checked
                                        switch checkbox input</label>
                                </div>

                            </div>
                        </div>
                    </div>
                </div>
                <div id="right" class="sidebar flex-center right collapsed col-sm-12 col-md-6 col-lg-4 col-xl-3 h-100"
                    style="margin-left: 10px; margin-top: 10px; margin-right: 10px; z-index: 5;">
                    <div class="rounded-rect"
                        style="background-color: rgb(240,240,240); height: calc(100% - 20px);box-shadow: 10px 10px 5px -4px rgba(0, 0, 0, 0.5); overflow: hidden;">
                        <div class="w-100" style="position: relative; display: inline-block;">
                            <img id="planeImg" :src="pilotData.planeimg" class="rounded-rect w-100"
                                style="border-radius: 10px 10px 0px 0px;">
                            <img src="./img/plane-background.png" class="w-100 h-100"
                                style="position: absolute; top: 0; left: 0;border-radius: 10px 10px 0px 0px;">
                            <button type="button" class="btn btn-secondary"
                                style="z-index: 999; position: absolute; top: 10px; left: 10px;"
                                onclick="closeSidebar('right')">关闭</button>
                            <button type="button" class="btn btn-secondary"
                                style="z-index: 999; position: absolute; top: 10px; right: 10px;" disabled>上传图片</button>
                            <div
                                style="width: 100%; height: 33%; position: absolute; z-index: 99; bottom: 0;float: left; color: rgb(63, 63, 63);">
                                <div
                                    style="width: 100%; height: 60%; float: left; display: flex; align-items: center; padding-left: 20px; font-size: 3em;">
                                    <B><template>{{pilotData.aircraft}}</template></B>
                                </div>
                                <div
                                    style="width: 50%; height: 40%; float: left; display: flex; align-items: center;  padding-left: 20px; font-size: 15px;">
                                    <B>注册号 <template>{{pilotData.cid}}</template></B>
                                </div>
                                <div
                                    style="width: 50%; height: 40%; float: left; display: flex; align-items: center;  padding-left: 20px; font-size: 15px;">
                                    <B>呼号 <template>{{pilotData.callsign}}</template></B>
                                </div>
                            </div>
                        </div>
                        <div id="messageTable" class="w-100" style="padding: 20px;">
                            <table class="w-100">
                                <thead style="color: rgb(165, 165, 165); font-size: 15px;">
                                    <tr>
                                        <th>速度</th>
                                        <th>高度</th>
                                        <th>已航行</th>
                                    </tr>
                                </thead>
                                <tbody style="font-size: 2em;">
                                    <tr>
                                        <td style="padding-top: 10px;">
                                            <template>{{pilotData.groundspeed}}</template><span
                                                style="font-size: 15px; margin-left: 5px;">海里/小时</span>
                                        </td>
                                        <td style="padding-top: 10px;">
                                            <template>{{pilotData.currentaltitude}}</template><span
                                                style="font-size: 15px; margin-left: 5px;">英尺</span>
                                        </td>
                                        <td style="padding-top: 10px;"><template>{{pilotData.distance}}</template><span
                                                style="font-size: 15px; margin-left: 5px;">海里</span></td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>

                        <div id="mapPosition" class="w-100"
                            style="padding: 20px; overflow:auto; height: calc(100% - 320px);">
                            <div class="rounded-rect w-100" style="margin-top: 10px; padding: 15px;">
                                <div style="width: 100%; height: 50px;position: relative; display: inline-block;">
                                    <div style="font-size: 2.5em; margin-top: 5px; margin-left: 10px;">
                                        <B><template>{{pilotData.depairportname}} -
                                                {{pilotData.destairportname}}</template></B>
                                        <button type="button" id="trackButton" class="btn btn-secondary"
                                            style="position: absolute; right: 0;" onclick="toggleTracking()">跟踪</button>
                                    </div>

                                    <div style="width: 100%; margin-top: 10px; margin-left: 10px;">
                                        <img :src="pilotData.airlineimg" style="height: 15px;">
                                        <template>{{pilotData.airline}} · {{pilotData.iatacallsign}}</template>
                                    </div>

                                </div>

                                <div style="margin-top: 10px;">
                                    <div class="row" style="width:100%;margin:0px;">
                                        <div class="col-12" style="margin:10px 0px;">
                                            <div class="progress" style="height:10px;">
                                                <div id="line-line"
                                                    class="progress-bar progress-bar-striped progress-bar-animated bg-warning"
                                                    role="progressbar" style="width: 20%" aria-valuenow="0"
                                                    aria-valuemin="0" aria-valuemax="100"></div>
                                            </div>
                                        </div>
                                        <div class="col-12">
                                            <div id="line-plane"
                                                style="width:40px;height:30px;margin-left:calc(20% - 20px);margin-top:-29px;">
                                                <svg style="width:40px;">
                                                    <g transform="translate(-4.8,-5.9)">
                                                        <path style="fill: rgb(109,109,109);"
                                                            d="m33.5 22.5c-1.9 0.1-6.7-0.1-6.7-0.1s-8.2 11.6-9.5 11.5c-1.2-0.1-2.6-0.4-2.6-0.4s6-11.4 4.5-11.3-8.1-0.2-8.1-0.2-3.7 4.6-4.1 4.5c-0.4 0-2.2-0.2-2.2-0.2s2.1-5.2 2.1-6.4v-0.1c0-1.2-2.1-6.4-2.1-6.4s1.7-0.2 2.2-0.2c0.4 0 4.2 4.5 4.2 4.5s6.6-0.3 8.1-0.2-4.5-11.3-4.5-11.3 1.2-0.2 2.5-0.3c1.3 0.1 9.6 11.7 9.6 11.7s4.8-0.1 6.7-0.1c1.9 0.1 3.1 2.5 3.1 2.5-0.1 0.2-1.3 2.5-3.2 2.5z"
                                                            fill="#f8c024"></path>
                                                    </g>
                                                </svg>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <div class="row" style="margin-top: 20px; text-align: center;">
                                    <div style="height: 30px; font-size: 3em;" class="col-3">
                                        <B>{{pilotData.depairportiata}}</B>
                                    </div>
                                    <div style="height: 30px; padding: 10,0,10,10;" class="col-6">
                                        <div style="background-color: rgb(242, 242, 242); height: 20px;"
                                            class="rounded-rect">
                                            <B><template>{{pilotData.dirtime}}</template> ·
                                                <template>{{pilotData.airportdis}}</template> 海里</B>
                                        </div>
                                    </div>
                                    <div style="height: 30px; font-size: 3em;" class="col-3">
                                        <B><template>{{pilotData.destairportiata}}</template></B>
                                    </div>
                                </div>

                                <div class="row" style=" margin-top: 5px; text-align: center;">
                                    <div style="height: 10px; font-size: 1em;" class="col-3">
                                        <B><template>{{pilotData.depairport}}</template></B>
                                    </div>
                                    <div class="col-6">

                                    </div>
                                    <div style="height: 10px; font-size: 1em;" class="col-3">
                                        <B><template>{{pilotData.destairport}}</template></B>
                                    </div>
                                </div>
                                <div class="row" style=" margin-top: 5px; text-align: center;">
                                    <div id="charts" class="col-12" style="height: 200px; padding: 0px; width: 95%;">
                                    </div>
                                </div>
                                <div class="row">
                                </div>
                                <div class="accordion w-100" id="accordionExample" style="margin-top: 20px;">
                                    <div class="accordion-item">
                                        <h2 class="accordion-header" id="headingOne">
                                            <button class="accordion-button collapsed" type="button"
                                                data-bs-toggle="collapse" data-bs-target="#collapseOne"
                                                aria-expanded="false" aria-controls="collapseOne">
                                                更多信息
                                            </button>
                                        </h2>
                                        <div id="collapseOne" class="accordion-collapse collapse"
                                            aria-labelledby="headingOne" data-bs-parent="#accordionExample">
                                            <div class="accordion-body">
                                                <template>{{pilotData.route}}</template>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div
                                style="margin-top: 40px; font-size:15px; text-transform: uppercase; margin-left: 10px;">
                                <B><template>{{pilotData.aircraft}}</template></B>
                            </div>
                            <div class="rounded-rect" style="margin-top: 10px; padding: 15px;">
                                <table class="w-100" style="border-collapse: collapse;">
                                    <tbody style="font-size: 17px;">
                                        <tr>
                                            <th
                                                style="color: rgb(117,117,117); border-bottom: 1px solid rgb(236,236,236); font-weight: normal;">
                                                注册号</th>
                                            <td
                                                style="padding: 10px; text-align: right; border-bottom: 1px solid rgb(236,236,236);">
                                                <b><template>{{pilotData.cid}}</template></b>
                                            </td>
                                        </tr>
                                        <tr>
                                            <th
                                                style="color: rgb(117,117,117); border-bottom: 1px solid rgb(236,236,236); font-weight: normal;">
                                                呼号</th>
                                            <td
                                                style="padding: 10px; text-align: right; border-bottom: 1px solid rgb(236,236,236);">
                                                <b><template>{{pilotData.callsign}}</template></b>
                                            </td>
                                        </tr>
                                        <tr>
                                            <th
                                                style="color: rgb(117,117,117); border-bottom: 1px solid rgb(236,236,236); font-weight: normal;">
                                                飞行时长</th>
                                            <td
                                                style="padding: 10px; text-align: right; border-bottom: 1px solid rgb(236,236,236);">
                                                <b><template>{{pilotData.flytime}}</template></b>
                                            </td>
                                        </tr>
                                        <tr>
                                            <th style="color: rgb(117,117,117); font-weight: normal;">应答机</th>
                                            <td style="padding: 10px; text-align: right;">
                                                <b><template>{{pilotData.transponder}}</template></b>
                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                            <div
                                style="margin-top: 40px; font-size:15px; text-transform: uppercase; margin-left: 10px;">
                                <B>地理位置</B>
                            </div>
                            <div class="rounded-rect" style="margin-top: 10px; padding: 15px;">
                                <table class="w-100">
                                    <tbody style="font-size: 17px;">
                                        <tr>
                                            <th
                                                style="color: rgb(117,117,117); border-bottom: 1px solid rgb(236,236,236); font-weight: normal;">
                                                高度</th>
                                            <td
                                                style="padding: 10px; text-align: right; border-bottom: 1px solid rgb(236,236,236);">
                                                <b><template>{{pilotData.currentaltitude}}</template> 英尺</b>
                                            </td>
                                        </tr>
                                        <tr>
                                            <th
                                                style="color: rgb(117,117,117); border-bottom: 1px solid rgb(236,236,236); font-weight: normal;">
                                                速度</th>
                                            <td
                                                style="padding: 10px; text-align: right; border-bottom: 1px solid rgb(236,236,236);">
                                                <b><template>{{pilotData.groundspeed}}</template> 海里/小时</b>
                                            </td>
                                        </tr>
                                        <tr>
                                            <th
                                                style="color: rgb(117,117,117); border-bottom: 1px solid rgb(236,236,236); font-weight: normal;">
                                                航向</th>
                                            <td
                                                style="padding: 10px; text-align: right; border-bottom: 1px solid rgb(236,236,236);">
                                                <b><template>{{pilotData.heading}}</template>°</b>
                                            </td>
                                        </tr>
                                        <tr>
                                            <th
                                                style="color: rgb(117,117,117); border-bottom: 1px solid rgb(236,236,236); font-weight: normal;">
                                                经纬度</th>
                                            <td
                                                style="padding: 10px; text-align: right; border-bottom: 1px solid rgb(236,236,236);">
                                                <b><template>{{pilotData.position}}</template></b>
                                            </td>
                                        </tr>
                                        <tr>
                                            <th style="color: rgb(117,117,117); font-weight: normal;">姿态</th>
                                            <td style="padding: 10px; text-align: right;">
                                                <b><template>{{pilotData.pitch}}</template>° 俯仰角
                                                    <template>{{pilotData.bank}}</template>° 横滚角</b>
                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>


            </div>
        </div>
        <script src="./js/index.min.js"></script>
</body>

</html>